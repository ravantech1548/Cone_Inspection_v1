# =============================================================================
# Textile Cone Inspector - Environment Configuration Template
# =============================================================================
# Copy this file to .env and update with your actual values
# DO NOT commit .env file to version control (it's in .gitignore)
# =============================================================================

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
# Keep on localhost (127.0.0.1) for security - backend runs on same machine
DATABASE_URL=postgresql://textile_user:textile_pass_123@127.0.0.1:5432/textile_inspector

# Database connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Node environment: development, production, test
NODE_ENV=development

# Backend server port
PORT=3001

# Frontend URL (used for CORS)
# For intranet access, use your machine's IP address
# Example: https://192.168.1.100:5173
FRONTEND_URL=https://100.86.98.82:5173

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================
# Host binding for services
# 0.0.0.0 = accessible from network
# 127.0.0.1 = localhost only
BACKEND_HOST=0.0.0.0
BACKEND_PORT=3001

FRONTEND_HOST=0.0.0.0
FRONTEND_PORT=5173

INFERENCE_HOST=0.0.0.0
INFERENCE_PORT=5000

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT secret for authentication tokens
# IMPORTANT: Change this in production!
JWT_SECRET=your-secret-key-change-in-production

# Session secret for session management
# IMPORTANT: Change this in production!
SESSION_SECRET=your-session-secret-change-in-production

# =============================================================================
# UPLOAD CONFIGURATION
# =============================================================================
# Directory for uploaded images (relative to project root)
UPLOAD_DIR=./uploads

# Maximum file size in bytes (10MB = 10485760)
MAX_FILE_SIZE=10485760

# Maximum number of images per batch
MAX_BATCH_SIZE=100

# =============================================================================
# INFERENCE SERVICE CONFIGURATION
# =============================================================================
# Inference service URL
# For intranet access, use your machine's IP address
# Example: https://192.168.1.100:5000
INFERENCE_SERVICE_URL=https://100.86.98.82:5000

# Timeout for inference requests in milliseconds
INFERENCE_TIMEOUT=30000

# Model version identifier
MODEL_VERSION=v1.0.0

# Default confidence threshold for classification (0.0 to 1.0)
# Lower values = more detections but less confident
# Higher values = fewer detections but more confident
DEFAULT_CONFIDENCE_THRESHOLD=0.3

# =============================================================================
# COLOR ANALYSIS CONFIGURATION
# =============================================================================
# Default Delta E tolerance for color matching
# Lower values = stricter color matching
# Higher values = more lenient color matching
# Typical range: 5-15
DEFAULT_DELTA_E_TOLERANCE=10

# =============================================================================
# TLS/HTTPS CONFIGURATION
# =============================================================================
# Enable HTTPS (true/false)
USE_HTTPS=true

# Path to SSL certificate files (relative to backend directory)
TLS_CERT_PATH=../../certs/backend-cert.pem
TLS_KEY_PATH=../../certs/backend-key.pem

# =============================================================================
# LOGGING CONFIGURATION (Optional)
# =============================================================================
# Log level: error, warn, info, debug
# LOG_LEVEL=info

# Log file path (optional)
# LOG_FILE=./logs/app.log

# =============================================================================
# NOTES
# =============================================================================
# 1. For local development, use localhost or 127.0.0.1
# 2. For intranet access, use your machine's IP address
# 3. Database should always be on localhost for security
# 4. Change JWT_SECRET and SESSION_SECRET in production
# 5. Generate SSL certificates using: npm run generate-certs
# 6. Restart all services after changing this file
# =============================================================================
